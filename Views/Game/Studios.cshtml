@using GoldCasino.ApiModule.Services.PlayerClub365Api.Models
@using SmartWinners.Models
@using SmartWinners.Services
@using System.Threading
@model List<Provider>
@inject GameCategoriesService gameCategoriesService

@{
	Layout = "/Views/MasterPage.cshtml";
	var langIso = Thread.CurrentThread.CurrentCulture.TwoLetterISOLanguageName;
	var langPrefix = langIso == "en" ? "" : $"/{langIso}";

	var seoViewModel = new SEOViewModel()
	{
		H1Title = "Top Casino Game Providers & Studios",
		Title = "Top Casino Game Providers & Studios | PlayerClub365",
		Description = "Discover the world-class game studios powering PlayerClub365. We partner with industry leaders like Pragmatic Play, Evolution, and NetEnt to bring you the best slots, live casino, and table games. Play games from the world's most trusted developers today.",
		Keywords = "game providers, game software providers, online game studios, slot game developers, live game providers, table game software, gaming studios, game developers",
		Slug = "games/s/all",
		OgTitle = "Top Casino Game Providers & Studios | PlayerClub365",
		OgDescription = "Discover the world-class game studios powering PlayerClub365. We partner with industry leaders like Pragmatic Play, Evolution, and NetEnt to bring you the best slots, live casino, and table games. Play games from the world's most trusted developers today.",
		OgImage = "/images/og/all_studios.jpg",
		TwitterTitle = "Top Casino Game Providers & Studios | PlayerClub365",
		TwitterDescription = "Discover the world-class game studios powering PlayerClub365. We partner with industry leaders like Pragmatic Play, Evolution, and NetEnt to bring you the best slots, live casino, and table games. Play games from the world's most trusted developers today.",
		TwitterImage = "/images/twitter/all_studios.jpg",
		MetaRobots = "index, follow"
	};

	ViewData["Seo"] = seoViewModel;
}

<div class="page-wrap game-page-wrap compact">
	<div class="games-list-wrap compact">

		<div class="games-title-nav-buttons">
			<div class="text-2xl font-medium items-center">
				<h2>All Studios</h2>
			</div>
		</div>

		<div class="studios-grid mt-6">
			@foreach (var studio in Model)
			{
				if (studio is null)
					continue;

				// Skip non-root providers to prevent duplicate integrator entries
				if (studio.ParentProviderId != 0)
					continue;

				var slug  = string.IsNullOrEmpty(studio?.Name)
				? "" : string.Join("-", 
				studio.Name
				.ToLowerInvariant()
				.Trim()
				// normalize to spaces first so we can split on them
				.Replace('+', ' ')
				.Replace("&", " and ")
				.Replace('/', ' ')
				.Replace('\\', ' ')
				.Replace('.', ' ')
				.Split(' ', StringSplitOptions.RemoveEmptyEntries))
				// strip remaining characters that commonly break routes or look bad in slugs
				.Replace("?", "")
				.Replace("%", "")
				.Replace("#", "")
				.Replace("\"", "")
				.Replace("'", "");

				<a href="@Html.Raw($"{langPrefix}/games/s/{studio.Id}/{slug}")"
					class="flex rounded-lg no-underline! bg-white/5 studio-card">
					@* <div
						class="bg-size-[65%]! transition-[background-size] duration-100 ease-linear hover:bg-size-[75%]!  w-full h-full bg-center bg-no-repeat"
						style="background-image: url('@Html.Raw($"/images/casino/Studios/png/studio_{studio.Id}.png")')"></div> *@
					<div class="image-container">
						<img src="@Html.Raw($"/images/casino/Studios/png/studio_{studio.Id}.png")" alt="@Html.Raw(studio.Name)"
							class="studio-image "
							onerror="this.onerror=null; this.outerHTML='<div class=\'flex items-center justify-center w-full h-full text-sm sm:text-lg lg:text-xl text-center p-2 uppercase font-semibold transition-transform duration-100 ease-linear hover:scale-110 \'>@Html.Raw(studio.Name)</div>'" />
					</div>
				</a>
			}
		</div>
	</div>
</div>

<style>
	.studios-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: 0.5rem;
	}

	.studio-card {
		height: 90px;
	}

	/* Tablet */
	@@media (min-width: 640px) {
		.studios-grid {
			grid-template-columns: repeat(3, 1fr);
			gap: 0.75rem;
		}
		.studio-card {
			height: 110px;
		}
	}

	/* Desktop */
	@@media (min-width: 1024px) {
		.studios-grid {
			grid-template-columns: repeat(4, 1fr);
			gap: 0.75rem;
		}
		.studio-card {
			height: 120px;
		}
	}

	/* Large desktop */
	@@media (min-width: 1280px) {
		.studios-grid {
			grid-template-columns: repeat(5, 1fr);
		}
	}

	.image-container {
		width: 100%;
		height: 100%;
		display: flex;
		align-items: center;
		justify-content: center;
		overflow: hidden;
	}

	.studio-image {
		width: 75%;
		height: 75%;
		object-fit: contain;
		transition: transform 100ms ease-in-out;
		transform: scale(1.0);
	}

	.image-container:hover .studio-image {
		transform: scale(1.1);
	}
</style>