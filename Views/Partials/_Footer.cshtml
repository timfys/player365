@using System.Threading
@using System.Text.RegularExpressions
@using Umbraco.Cms.Web.Common
@using GoldCasino.ApiModule.Services
@inject UmbracoHelper _helper
@inject ISupportedLanguagesService supportedLanguagesService

@{
	var regLanguagePrefix = new Regex(@$"^\/((en|fr|ru|uk|es|he|ar|pt|th|vi|ms|ph|fi|it|pl|zh)\/)?", RegexOptions.Singleline
|
	RegexOptions.IgnoreCase);
	var regLanguagePrefixBks = new Regex(@$"^\/((en|fr|ru|uk|es|he|ar|pt|th|vi|ms|ph|fi|it|pl|zh))?",
RegexOptions.Singleline |
	RegexOptions.IgnoreCase);

	// Fetch supported languages from API
	var supportedLanguages = await supportedLanguagesService.GetAsync(Context.RequestAborted);
	var langs = supportedLanguages.ToDictionary(
	l => l.LanguageIso,
	l => l.Name ?? l.NameEnglish ?? "Unknown",
	StringComparer.OrdinalIgnoreCase);

	var flags = new Dictionary<string, string>(StringComparer.OrdinalIgnoreCase)
	{
		["en"] = "us",
		["fr"] = "fr",
		["ru"] = "ru",
		["uk"] = "ua",
		["es"] = "es",
		["he"] = "il",
		["pt"] = "pt",
		["th"] = "th",
		["vi"] = "vn",
		["fil"] = "ph",
		["it"] = "it",
		["pl"] = "pl",
		["zh"] = "cn"
	};

	var request = Context.Request;
	var pathAndQuery = request.Path + request.QueryString;
	var curl = regLanguagePrefixBks.Replace(pathAndQuery, "");
	curl = regLanguagePrefix.Replace(curl, "");

	var langIso = Thread.CurrentThread.CurrentCulture.TwoLetterISOLanguageName;
	var IsAuthenticated = Context.User?.Identity?.IsAuthenticated ?? false;
}

<footer>

	@* <div class="carousel-strip hidden!">
		<div class="container">
			<button class="nav prev" aria-label="Previous slides">
				<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M14.0001 26.833L1.16675 13.9997M1.16675 13.9997L14.0001 1.16634M1.16675 13.9997L26.8334 13.9997"
						stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
				</svg>
			</button>
			<section class="carousel" aria-label="Payment methods">
				<ul class="track">
					<li class="slide">
						<img src="/images/logos/visa.svg" alt="VISA" />
					</li>
					<li class="slide">
						<img src="/images/logos/mastercard.svg" alt="Mastercard" />
					</li>
					<li class="slide">
						<img src="/images/logos/btcAccepted.svg" alt="btcAccepted" />
					</li>
					<li class="slide">
						<img src="/images/logos/maestro.svg" alt="Maestro" />
					</li>
					<li class="slide">
						<img src="/images/logos/skrill.svg" alt="Skrill" />
					</li>
					<li class="slide">
						<img src="/images/logos/neteller.svg" alt="Neteller" />
					</li>
					<li class="slide">
						<img src="/images/logos/paysafecard.svg" alt="paysafecard" />
					</li>
					<li class="slide">
						<img src="/images/logos/zimpler.svg" alt="Zimpler" />
					</li>
					<li class="slide">
						<img src="/images/logos/idebit.svg" alt="Idebit" />
					</li>
					<li class="slide">
						<img src="/images/logos/instadebit.svg" alt="Instadebit" />
					</li>
					<li class="slide">
						<img src="/images/logos/webmoney.svg" alt="Webmoney" />
					</li>
					<li class="slide">
						<img src="/images/logos/netent.svg" alt="Netent" />
					</li>
					<li class="slide">
						<img src="/images/logos/betsoft.svg" alt="Betsoft" />
					</li>
					<li class="slide">
						<img src="/images/logos/amatic.svg" alt="Amatic" />
					</li>
					<li class="slide">
						<img src="/images/logos/bgaming.svg" alt="Bgaming" />
					</li>
					<li class="slide">
						<img src="/images/logos/belatra.svg" alt="Belatra" />
					</li>
					<li class="slide">
						<img src="/images/logos/mascot.svg" alt="Mascot" />
					</li>
					<li class="slide">
						<img src="/images/logos/dreamtech.svg" alt="Dreamtech" />
					</li>
					<li class="slide">
						<img src="/images/logos/ezugi.svg" alt="Ezugi" />
					</li>
					<li class="slide">
						<img src="/images/logos/askGamblers.svg" alt="AskGamblers" />
					</li>
					<li class="slide">
						<img src="/images/logos/lcbCasino.svg" alt="LcbCasino" />
					</li>
					<li class="slide">
						<img src="/images/logos/bckBadge.svg" alt="BckBadge" />
					</li>
					<li class="slide">
						<img src="/images/logos/rng.svg" alt="RNG" />
					</li>
					<li class="slide">
						<img src="/images/logos/gpwa.svg" alt="GPWA" />
					</li>
					<li class="slide">
						<img src="/images/logos/itech.svg" alt="Itech" />
					</li>
					<li class="slide">
						<img src="/images/logos/ssl.svg" alt="SSL" />
					</li>
				</ul>
			</section>

			<button class="nav next" aria-label="Next slides">
				<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M14.0001 26.833L1.16675 13.9997M1.16675 13.9997L14.0001 1.16634M1.16675 13.9997L26.8334 13.9997"
						stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
				</svg>
			</button>
		</div>
	</div> *@

	<div class="site-footer mt-10" role="contentinfo">
		<div class="container">
			<!-- Top area: 2x3 grid
       Row 1: title (spans both columns)
       Row 2: lang | socials
       Row 3: badges | links -->
			<div class="footer-top">
				<section class="support" aria-label="Customer Support">
					<!-- row 1 -->
					<h3>Customer Support</h3>

					<!-- row 2 (left) -->
					<div class="language">
						<details class="lang-select">
							<summary class="lang-summary flex items-center gap-2 cursor-pointer select-none">
								<span class="flag fi-@Html.Raw(langIso.Contains("en") ? "us" : langIso)" aria-hidden="true"></span>

								<span class="label">@Html.Raw(langs.ContainsKey(langIso) ? langs[langIso] : "English")</span>
								<span class="caret" aria-hidden="true"></span>
							</summary>
							<ul class="menu mt-2 rounded-md bg-white shadow p-2 " role="listbox" aria-label="Choose a language">
								@foreach (var lang in langs)
								{
									var flag = flags.ContainsKey(lang.Key) ? flags[lang.Key] : lang.Key;
									var href = lang.Key == "en" ? $"/{curl}" : $"/{lang.Key}/{curl}";
									<li>
										<a href="@href"
											 class="flex justify-start gap-2 px-3 my-2 py-2 w-full text-left hover:bg-teal-950 @(lang.Key == langIso ? "bg-teal-900 text-white" : "")">
											<span class="flag fi-@flag"></span>@Html.Raw(lang.Value)
										</a>
									</li>
								}
							</ul>
						</details>
					</div>

					<!-- row 2 (right) -->
					<div class="socials" aria-label="Social links">
						<a href="https://t.me/playerclub365_casino_bot" class="tg" aria-label="Telegram" target="_blank"
							 rel="noopener noreferrer">
							<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
								<path fill="#fff"
											d="M9.6 13.6 9.3 18c.5 0 .7-.2.9-.4l2.2-2 4.6 3.4c.8.5 1.3.2 1.5-.8l2.8-13.2c.3-1.1-.4-1.6-1.1-1.3L2.1 9C1 9.5 1 10.2 2 10.5l4.4 1.4 10.2-6.4c.5-.3 1-.1 .6.2L9.6 13.6Z" />
							</svg>
						</a>
						@* <a href="#" class="fb" aria-label="Facebook">
							<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
								<path fill="#fff" d="M14 8h2V5h-2c-2.2 0-4 1.8-4 4v2H8v3h2v6h3v-6h2.1l.9-3H13V9c0-.6.4-1 1-1Z" />
							</svg>
						</a>
						<a href="#" class="x" aria-label="X">
							<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
								<path fill="#fff" d="M4 3l7.4 9.5L4.6 21H7l5-6.3L16.4 21H20l-7.8-10L19.2 3H17l-4.6 5.8L8 3H4Z" />
							</svg>
						</a> *@
						<a href="https://www.instagram.com/online_casino_playerclub365/" class="ig" aria-label="Instagram"
							 target="_blank" rel="noopener noreferrer">
							<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
								<rect x="3" y="3" width="18" height="18" rx="5" ry="5" stroke="#fff" stroke-width="2" />
								<circle cx="12" cy="12" r="4" stroke="#fff" stroke-width="2" />
								<circle cx="17.5" cy="6.5" r="1.3" fill="#fff" />
							</svg>
						</a>
					</div>

					<!-- row 3 (left) -->
					<div class="compliance" aria-label="Compliance badges">
						<div class="badge" title="21+">
							<img class="h-8" src="/images/casino/age-21.svg" alt="21+" />
						</div>
						<div class="badge" title="Responsible Gaming">
							<img class="h-8" src="/images/casino/Responsible-Gaming-Icon_Redone-1-300x300.webp"
									 alt="Responsible Gaming" />
						</div>
						<div class="badge" title="ASA">
							<img class="h-4" src="https://www.gambleaware.org/media/mr2d3rnl/logo-orange.png?format=webp"
									 alt="Gamble Aware" />
						</div>
					</div>

					<!-- row 3 (right) -->
					<nav class="footer-links max-sm:text-sm!" aria-label="Footer links">
						@* <a href="https://partners.playerclub365.com">Partner portal</a> *@
						<a href="/blog/en/page/privacy-for-online-casino">Privacy Policy</a>
						<a href="/blog/en/page/terms-and-conditions">Terms &amp; Conditions</a>
						<a href="/blog/en/page/bonus-terms-and-conditions">Bonus Terms &amp; Conditions</a>
						<a href="/blog/en/page/Responsible-Social-Gaming">Responsible Gaming</a>
						<a href="/blog/en/">Blog</a>
					</nav>

					<!-- carousel -->
					@* <div class="carousel-strip hidden!">
						<div class="container">
							<button class="nav prev" aria-label="Previous slides">
								<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path
										d="M14.0001 26.833L1.16675 13.9997M1.16675 13.9997L14.0001 1.16634M1.16675 13.9997L26.8334 13.9997"
										stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
								</svg>
							</button>
							<section class="carousel" aria-label="Payment methods">
								<ul class="track">
									<li class="slide">
										<img src="/images/logos/visa.svg" alt="VISA" />
									</li>
									<li class="slide">
										<img src="/images/logos/mastercard.svg" alt="Mastercard" />
									</li>
									<li class="slide">
										<img src="/images/logos/btcAccepted.svg" alt="btcAccepted" />
									</li>
									<li class="slide">
										<img src="/images/logos/maestro.svg" alt="Maestro" />
									</li>
									<li class="slide">
										<img src="/images/logos/skrill.svg" alt="Skrill" />
									</li>
									<li class="slide">
										<img src="/images/logos/neteller.svg" alt="Neteller" />
									</li>
									<li class="slide">
										<img src="/images/logos/paysafecard.svg" alt="paysafecard" />
									</li>
									<li class="slide">
										<img src="/images/logos/zimpler.svg" alt="Zimpler" />
									</li>
									<li class="slide">
										<img src="/images/logos/idebit.svg" alt="Idebit" />
									</li>
									<li class="slide">
										<img src="/images/logos/instadebit.svg" alt="Instadebit" />
									</li>
									<li class="slide">
										<img src="/images/logos/webmoney.svg" alt="Webmoney" />
									</li>
									<li class="slide">
										<img src="/images/logos/netent.svg" alt="Netent" />
									</li>
									<li class="slide">
										<img src="/images/logos/betsoft.svg" alt="Betsoft" />
									</li>
									<li class="slide">
										<img src="/images/logos/amatic.svg" alt="Amatic" />
									</li>
									<li class="slide">
										<img src="/images/logos/bgaming.svg" alt="Bgaming" />
									</li>
									<li class="slide">
										<img src="/images/logos/belatra.svg" alt="Belatra" />
									</li>
									<li class="slide">
										<img src="/images/logos/mascot.svg" alt="Mascot" />
									</li>
									<li class="slide">
										<img src="/images/logos/dreamtech.svg" alt="Dreamtech" />
									</li>
									<li class="slide">
										<img src="/images/logos/ezugi.svg" alt="Ezugi" />
									</li>
									<li class="slide">
										<img src="/images/logos/askGamblers.svg" alt="AskGamblers" />
									</li>
									<li class="slide">
										<img src="/images/logos/lcbCasino.svg" alt="LcbCasino" />
									</li>
									<li class="slide">
										<img src="/images/logos/bckBadge.svg" alt="BckBadge" />
									</li>
									<li class="slide">
										<img src="/images/logos/rng.svg" alt="RNG" />
									</li>
									<li class="slide">
										<img src="/images/logos/gpwa.svg" alt="GPWA" />
									</li>
									<li class="slide">
										<img src="/images/logos/itech.svg" alt="Itech" />
									</li>
									<li class="slide">
										<img src="/images/logos/ssl.svg" alt="SSL" />
									</li>
								</ul>
							</section>

							<button class="nav next" aria-label="Next slides">
								<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path
										d="M14.0001 26.833L1.16675 13.9997M1.16675 13.9997L14.0001 1.16634M1.16675 13.9997L26.8334 13.9997"
										stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
								</svg>
							</button>
						</div>
					</div> *@
				</section>
			</div>

			<div class="copyright flex justify-between">
				© 2026 PlayerClub365. All rights reserved.
				@if (IsAuthenticated)
				{
					<a class="text-white/20  text-sm max-sm:hidden" href="?umbDebug=true">speed test</a>
				}
			</div>

			<!-- Legal blurb -->
			<section class="disclaimer" aria-label="Disclaimer">
				<details open>
					<summary>Show more</summary>
					<p>
						PlayerClub365 is a social casino intended for an adult audience (21+) for amusement purposes only. This
						product is not intended for use by persons under the age of 21 and is not directed at minors. PlayerClub365
						includes optional in-app purchases of virtual currency. The games on this site do not offer "real-money
						gambling" or any opportunity to win real-world prizes, cash, or items of value based on gameplay. Virtual
						currency (Coins/Points) used in this game is non-transferable, has no real-world monetary value, and cannot
						be redeemed for cash, gift cards, or any other assets. Practice or success at social casino gaming does not
						imply future success at real-money gambling. Please play responsibly. If you or someone you know has a
						problem, please visit <a class="green-link"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    href="https://www.begambleaware.org" target="_blank"
																		 rel="noopener noreferrer">BeGambleAware.org</a> .
					</p>
				</details>
			</section>

			<div class="mt-4 inline-flex items-center">
				<span
				class="inline-flex items-center justify-center rounded-full border-2 border-red-500 px-2 py-1 text-sm font-bold leading-none text-white">21+</span>
			</div>
			<p class="disclaimer-text" style="font-size: 12px; line-height: 1.4; opacity: 0.8; margin-top: 15px;">
				<strong>
					NO
					REAL MONEY GAMBLING:
				</strong> This website is a social casino platform intended for entertainment purposes
				only. All games are free to play; while you can purchase virtual currency to enhance gameplay, this currency has
				no cash value. <strong>You cannot withdraw, exchange, or win real money or physical prizes.</strong> Practice or
				success at social casino gaming does not imply future success at real-money gambling. Please play responsibly.
			</p>
		</div>
	</div>
</footer>
<script>
	function toggleDisclaimer() {
		const details = document.querySelector('.disclaimer details');
		if (window.innerWidth >= 600) {
			details.setAttribute('open', '');   // На десктопе открыть
		} else {
			details.removeAttribute('open');    // На мобилке закрыть
		}
	}

	// Запускаем при загрузке
	toggleDisclaimer();

	// И при изменении размера экрана
	window.addEventListener('resize', toggleDisclaimer);
</script>
<script>
	const track = document.querySelector('.track');
	const prevBtn = document.querySelector('.nav.prev');
	const nextBtn = document.querySelector('.nav.next');

	// Calculate how much to scroll (one slide width + gap)
	function getScrollDistance() {
		const slideGap = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--slide-gap'));

		// Convert clamp values to actual pixels
		const slideElement = document.querySelector('.slide');
		const actualSlideWidth = slideElement ? slideElement.offsetWidth : 200;
		const actualGap = slideGap || 16;

		return actualSlideWidth + actualGap;
	}

	// Smooth scroll function that temporarily enables smooth behavior
	function smoothScrollBy(distance) {
		const originalBehavior = track.style.scrollBehavior;
		track.style.scrollBehavior = 'smooth';

		track.scrollBy({
			left: distance,
			behavior: 'smooth'
		});

		// Reset to auto after animation completes
		setTimeout(() => {
			track.style.scrollBehavior = originalBehavior || 'auto';
		}, 300);
	}

	// Previous button click handler
	prevBtn.addEventListener('click', () => {
		const scrollDistance = getScrollDistance();
		smoothScrollBy(-scrollDistance);
	});

	// Next button click handler
	nextBtn.addEventListener('click', () => {
		const scrollDistance = getScrollDistance();
		smoothScrollBy(scrollDistance);
	});

	// Optional: Hide/show buttons based on scroll position
	function updateButtonVisibility() {
		const isAtStart = track.scrollLeft <= 10;
		const isAtEnd = track.scrollLeft >= track.scrollWidth - track.clientWidth - 10;

		prevBtn.disabled = isAtStart;
		nextBtn.disabled = isAtEnd;
	}

	// Update button visibility on scroll
	track.addEventListener('scroll', updateButtonVisibility);

	// Initial button state
	updateButtonVisibility();
</script>