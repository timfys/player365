@* 21+ Age Gate Overlay (client-side cookie) *@

<div id="age-gate-21" class="fixed inset-0 flex items-center justify-center px-4" style="z-index: 10000002; display: none;" aria-hidden="true">
	@* <div class="absolute inset-0 bg-center bg-cover" style="background-image: url('/images/casino/main-banner.webp');"></div> *@
	<div class="absolute inset-0" style="background: rgba(0, 0, 0, 0.72);"></div>

	<div class="relative w-full max-w-2xl overflow-hidden rounded-[20px]" style="background: var(--c-teal-strong);">
		<div class="absolute left-0 top-2 h-0.5 w-full bg-yellow-500"></div>
		<div class="absolute left-0 bottom-2 h-0.5 w-full bg-yellow-500"></div>

		<div class="relative p-6 md:p-10">
			<div class="flex items-center gap-3">
				<img src="/images/casino/age-21.svg" alt="21+" class="h-10 w-auto" />
				<div class="text-white font-semibold tracking-wide">JOIN THE CLUB!</div>
			</div>

			<div class="mt-6 text-center">
				<div class="gold-gradient-text text-[clamp(26px,4.2cqw,44px)]">Welcome to PlayerClub365.</div>
				<div class="mt-3 text-white/90 text-[clamp(14px,2.2cqw,18px)] leading-relaxed">
					Enjoy the world's finest social slots and table games in a 100% risk-free environment.
				</div>
				<div class="mt-4 text-white/90 text-[clamp(14px,2.2cqw,18px)] leading-relaxed">
					By entering, you confirm you are 21+ and ready for:
				</div>
				<ul class="mt-4 text-left text-white/90 text-[clamp(14px,2.2cqw,18px)] leading-relaxed space-y-2">
					<li>üéÅ Pure Entertainment: Play for fun with zero real-money stakes.</li>
					<li>üíé Daily Rewards: Collect virtual coins that stay in the game for endless play.</li>
					<li>üöÄ Risk-Free Action: Experience the thrill of the casino with absolutely no cash value involved.</li>
				</ul>
			</div>

			<div class="mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
				<button id="age-gate-accept" type="button" class="playerclub-button-yellow px-8 py-3 uppercase font-semibold!">
					I AM 21+ &amp; READY TO PLAY
				</button>
				<button id="age-gate-decline" type="button" class="playerclub-button-gray px-8 py-3 uppercase font-semibold!">
					I AM UNDER 21
				</button>
			</div>

			<div class="mt-6 text-center text-white/80 text-sm leading-relaxed">
				Success here is for fun and does not guarantee results in real gambling.
			</div>
		</div>
	</div>
</div>

<script>
	(function () {
		var COOKIE_NAME = 'age_gate_21';

		function getCookie(name) {
			var value = '; ' + document.cookie;
			var parts = value.split('; ' + name + '=');
			if (parts.length === 2) return parts.pop().split(';').shift();
			return null;
		}

		function setCookie(name, value, days) {
			var expires = '';
			if (typeof days === 'number') {
				var date = new Date();
				date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
				expires = '; expires=' + date.toUTCString();
			}
			document.cookie = name + '=' + value + expires + '; path=/; SameSite=Lax';
		}

		function lockScroll() {
			try { document.body.style.overflow = 'hidden'; } catch (e) { }
		}

		function unlockScroll() {
			try { document.body.style.overflow = ''; } catch (e) { }
		}

		function hideGate() {
			var gate = document.getElementById('age-gate-21');
			if (gate) {
				gate.style.display = 'none';
				gate.setAttribute('aria-hidden', 'true');
			}
			unlockScroll();
		}

		function showGate() {
			var gate = document.getElementById('age-gate-21');
			if (gate) {
				gate.style.display = 'flex';
				gate.setAttribute('aria-hidden', 'false');
			}
			lockScroll();
		}

		function init() {
			var verified = getCookie(COOKIE_NAME) === '1';
			if (verified) {
				hideGate();
				return;
			}

			showGate();

			var accept = document.getElementById('age-gate-accept');
			var decline = document.getElementById('age-gate-decline');
			var msg = document.getElementById('age-gate-message');

			if (accept) {
				accept.addEventListener('click', function () {
					setCookie(COOKIE_NAME, '1', 365);
					hideGate();
				});
			}

			if (decline) {
				decline.addEventListener('click', function () {
					try {
						window.location.href = 'https://www.google.com/';
					} catch (e) {
						window.location = 'https://www.google.com/';
					}
				});
			}
		}

		// Show only after the page has fully loaded (no flash during initial render)
		if (document.readyState === 'complete') {
			init();
		} else {
			window.addEventListener('load', init);
		}
	})();
</script>
